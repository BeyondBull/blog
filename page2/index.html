<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Joshua Lande &middot; Data Science, Apache Pig, Hadoop, Blogging, Tweets, Astrophysics
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47674613-1', 'joshualande.com');
  ga('send', 'pageview');

</script>


  <body>

    <div class="container content">
      <div class="masthead">
        <h3 class="masthead-title">
          <a href="/" title="Home">Joshua Lande</a>

          
              &nbsp;&nbsp;&nbsp;<small><a href="/about/">About</a></small>
          
              &nbsp;&nbsp;&nbsp;<small><a href="/archive/">Archive</a></small>
          
              &nbsp;&nbsp;&nbsp;<small><a href="/atom.xml">Feed</a></small>
          

        </h3>
      </div>

      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/create-tables-sql">
        How to Create Tables and Insert Data into SQL Databases
      </a>
    </h1>

    <span class="post-date">28 Apr 2014</span>

    <p><em>This is the third post in a <a href="/data-science-sql">series of posts</a>
about doing data science with SQL. The 
<a href="/install-mysql">previous post</a>
covered the steps required to install MySQL on on your
local machine.</em></p>

<p>In this post, I will go over the commands required to set up the
example recipe database from the 
<a href="/database-normalization">first post</a> in this series.  By the end
of this post, you will understand how to create new tables and you
will have a working database to run SQL queries on!</p>

<h2 id="creating-the-recipes-database-in-sql">Creating the Recipes Database in SQL</h2>

<p>To create the recipes database, we first need to create a database
to work in. We can do this with the command:</p>

<p><code>sql
CREATE DATABASE recipes_database;
</code></p>

<p>Having multiple databases is useful to separate different
projects. We can select our database with the command:</p>

<p><code>sql
USE recipes_database;
</code></p>

<h2 id="creating-tables-in-sql">Creating Tables in SQL</h2>

<p>To create the <code>recipes</code> table inside <code>recipes_database</code>, we can use
the <code>CREATE TABLE</code> command:</p>

<p>```sql
CREATE TABLE recipes (
  recipe_id INT NOT NULL,
  recipe_name VARCHAR(30) NOT NULL,
  PRIMARY KEY (recipe_id),
  UNIQUE (recipe_name)
);</p>

<p>INSERT INTO recipes 
    (recipe_id, recipe_name) 
VALUES 
    (1,”Tacos”),
    (2,”Tomato Soup”),
    (3,”Grilled Cheese”);
```</p>

<p>The <code>PRIMARY KEY</code> forces every row to be a unique value.  This stops
several recipes from having the same ID.  In addition, we use the
<code>UNIQUE</code> keyword to ensure that no two recipes have the same name.</p>

<p>You will notice that different columns can have different types.
Recipe IDs are integers and recipe names are variable length arrays
of characters.  <code>VARCHAR(30)</code> means that the strings can store up
to 30 characters.  Other common types include <code>FLOAT</code>, <code>DOUBLE</code>,
<code>DATE</code>, and <code>TIMESTAMP</code>. There is additional documented on types
<a href="http://dev.mysql.com/doc/refman/5.0/en/data-types.html">here</a>.</p>

<p>Next, we can create the ingredients table:</p>

<p>```sql
CREATE TABLE ingredients (
  ingredient_id INT NOT NULL, 
  ingredient_name VARCHAR(30) NOT NULL,
  ingredient_price INT NOT NULL,
  PRIMARY KEY (ingredient_id),<br />
  UNIQUE (ingredient_name)
);</p>

<p>INSERT INTO ingredients
    (ingredient_id, ingredient_name, ingredient_price)
VALUES 
    (1, “Beef”, 5),
    (2, “Lettuce”, 1),
    (3, “Tomatoes”, 2),
    (4, “Taco Shell”, 2),
    (5, “Cheese”, 3),
    (6, “Milk”, 1),
    (7, “Bread”, 2);
```</p>

<p>Note that we do not ensure uniqueness of <code>ingredient_price</code> because
multiple recipes can have the same price.</p>

<p>Finally, we can create the recipe-ingredient-mapping table:</p>

<p>```sql
CREATE TABLE recipe_ingredients (
  recipe_id int NOT NULL, 
  ingredient_id INT NOT NULL, 
  amount INT NOT NULL,
  PRIMARY KEY (recipe_id,ingredient_id)
);</p>

<p>INSERT INTO recipe_ingredients 
    (recipe_id, ingredient_id, amount)
VALUES
    (1,1,1),
    (1,2,2),
    (1,3,2),
    (1,4,3),
    (1,5,1),
    (2,3,2),
    (2,6,1),
    (3,5,1),
    (3,7,2);
```</p>

<p>The last row says, for example, that the recipe with an ID of 3
(“Grilled Cheese”) has an amount 2 of the ingredient with ID 7
(“Bread”).</p>

<p>Notice that our <code>PRIMARY KEY</code> is for recipe ID and ingredient ID pairs.
We require only that the combination is unique because
each recipe can have a particular ingredient only once.</p>

<h2 id="autoincrement-ids">AUTO_INCREMENT IDs</h2>

<p>There is an <code>AUTO_INCREMENT</code> command which can be used to let SQL
automatically pick the recipe and ingredient IDs to ensure uniqueness.
Using this command, we can created the same <code>recipes</code> table in a
less error-prone way:</p>

<p>```sql
CREATE TABLE recipes (
  recipe_id INT NOT NULL AUTO_INCREMENT,
  recipe_name VARCHAR(30) NOT NULL,
  PRIMARY KEY (recipe_id),
  UNIQUE (recipe_name)
);</p>

<p>INSERT INTO recipes 
    (recipe_name) 
VALUES 
    (“Tacos”),
    (“Tomato Soup”),
    (“Grilled Cheese”);
```</p>

<h2 id="browse-the-tables">Browse the Tables</h2>

<p>To browse the tables in the database, we can run the <code>SELECT</code>
command from the command line:</p>

<p><code>
mysql&gt;   SELECT * 
    -&gt;     FROM recipes
    -&gt; ORDER BY recipe_id;
+-----------+----------------+
| recipe_id | recipe_name    |
+-----------+----------------+
|         1 | Tacos          |
|         2 | Tomato Soup    |
|         3 | Grilled Cheese |
+-----------+----------------+
3 rows in set (0.00 sec)
</code></p>

<p>We can also use the content tab in Sequel Pro to graphically browse
the tables:</p>

<p><img src="/assets/sequel_pro_content_tab.jpg" alt="Sequel Pro Content Tab" /></p>

<p><em>In the <a href="/filters-joins-aggregations">next post</a>
in this 
<a href="/data-science-sql">series of posts</a>, 
I will go over the basics of quering for data in a SQL database.</em></p>

<p>If you have any questions or comments, please post them below. If
you liked this post, you can
<a href="https://twitter.com/intent/tweet?url=http://www.joshualande.com/create-tables-sql&amp;text=How to Create Tables and Insert Data into SQL Databases&amp;via=joshualande" target="_blank">
  share it with your followers</a> 
or 
<a href="https://twitter.com/joshualande">
  follow me on Twitter</a>!</p>


  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page3/">Older</a>
  
  
    
      <a class="pagination-item newer" href="/">Newer</a>
    
  
</div>


      



      <div class="footer">
        <p>
          &copy; 2015. All rights reserved.
        </p>
      </div>
    </div>

  </body>
</html>
